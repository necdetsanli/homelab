# CiliumBGPClusterConfig â€” cluster-wide BGP configuration.
# All Linux nodes peer with OPNsense (192.168.20.1, AS 64500).
# Cilium nodes advertise their pod CIDRs and LoadBalancer VIPs.
---
apiVersion: cilium.io/v2alpha1
kind: CiliumBGPClusterConfig
metadata:
  name: cilium-bgp
spec:
  nodeSelector:
    matchLabels:
      kubernetes.io/os: linux
  bgpInstances:
    - name: default
      localASN: 64501
      peers:
        - name: opnsense
          peerASN: 64500
          peerAddress: 192.168.20.1
          peerConfigRef:
            name: opnsense-peer
